# shopify.app.toml

client_id = "REDACTED"
name = "Lions Creek Rewards"
application_url = "https://app.lionscreekrewards.ca"
embedded = true
handle = "lions-creek-rewards"

[build]
dev_store_url = "lions-creek-olive-estates.myshopify.com"
automatically_update_urls_on_dev = true
include_config_on_deploy = true

[access_scopes]
scopes = "read_customers,read_orders,write_discounts"

[auth]
redirect_urls = [
  "https://app.lionscreekrewards.ca/auth/callback",
  "https://app.lionscreekrewards.ca/auth/shopify/callback",
  "https://app.lionscreekrewards.ca/api/auth/callback"
]

[webhooks]
api_version = "2026-01"

# Core loyalty automation
[[webhooks.subscriptions]]
topics = ["orders/paid", "refunds/create", "orders/cancelled", "app/uninstalled"]
uri = "/webhooks"

# Compliance
[[webhooks.subscriptions]]
compliance_topics = ["customers/redact", "customers/data_request", "shop/redact"]
uri = "/webhooks"
